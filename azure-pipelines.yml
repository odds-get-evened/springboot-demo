trigger:
  branches:
    include:
      - main
      - dev
      - feature-az_pipelines

stages:
  - stage: build
    displayName: "build and package"
    steps:
      - task: Checkout@1
        displayName: "checkout code"
      - task: UseJavaVersion@1
        inputs:
          version: '21'
          architecture: 'x64'
      - script: |
          mvn clean package -DskipTests
        displayName: "maven: clean and package build"
      - task: PublishPipelineArtifact@1
        inputs:
          targetPath: '$(System.DefaultWorkingDirectory)/target'
          artifact: 'test_feed'